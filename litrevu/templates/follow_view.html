{% extends "base/base.html" %}
{% block content %}
<div class="max-w-2xl mx-auto p-5">
    <h2 class="text-xl font-semibold text-gray-800">Suivre un utilisateur</h2>
    <form method="post" class="mt-4 bg-white rounded-lg border border-gray-200 shadow-md p-4">
        {% csrf_token %}
        <div class="mb-4">
            {{ form.as_p }}
        </div>
        <button type="submit"
                class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500">
            Suivre
        </button>
    </form>

    <h2 class="text-xl font-semibold text-gray-800 mt-8">Je suis :</h2>
    <ul class="list-disc list-inside">
        {% for follow in following %}
        <li class="flex justify-between items-center bg-white rounded-lg border border-gray-200 shadow-md p-4 my-2">
            {{ follow.followed_user.username }}
            <form method="post" action="{% url 'unfollow_view' follow.followed_user.id %}" class="ml-4">
                {% csrf_token %}
                <button type="submit"
                        class="py-1 px-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-500 hover:bg-red-600 focus:outline-none">
                    Se d√©sabonner
                </button>
            </form>
        </li>
        {% endfor %}
    </ul>

    <h2 class="text-xl font-semibold text-gray-800 mt-8">Je suis suivi par :</h2>
    <ul class="list-disc list-inside">
        {% for follow in followers %}
        <li class="bg-white rounded-lg border border-gray-200 shadow-md p-4 my-2">{{ follow.user.username }}</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
